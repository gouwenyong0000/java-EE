

# 常用命令



```java

```







### 如何打开windows[命令行](https://so.csdn.net/so/search?q=命令行&spm=1001.2101.3001.7020)窗口？

  方法一：徽标键+r打开运行窗口，输入[cmd](https://so.csdn.net/so/search?q=cmd&spm=1001.2101.3001.7020)即可打开。
  方法二：徽标键+s打开搜索窗口，输入cmd即可打开。
  方法三：右击开始菜单点击运行，输入cmd即可打开。

### 1.Ping命令

  ping是最基本的网络测试命令，ping可用来测试网络的基本联通性是否正常。
**参数：**
  （1）ping ip：普通测试，共发送4个数据包。
  （2）ping ip -t：连续发送多个数据包，直到被用户以ctrl+c[中断](https://so.csdn.net/so/search?q=中断&spm=1001.2101.3001.7020)。
  （3）ping ip -n 6：执行特定的次数，如发送6个数据包。
  （4）ping ip -l 200：指定ping命令中的特定数据长度，默认的是32字节。

### 2.ipconfig命令

  ipconfig命令是用来查看主机TCP/IP协议地址的值，通常用来校验IP地址配置是否正确。
**参数：**
  （1）ipconfig：显示基本的网卡配置信息，如ip地址、子网掩码、缺省网关。
  （2）ipconfig/all：在显示基础的配置信息上，同时显示是否使用了DHCP、MAC地址、租约时间、DNS等.
  （3）ipconfig/release和ipconfig/renew：在DHCP自动获取地址的时候有时候会获取到169.X.X.X，这时候就需要释放IP，对地址进行重新获取。前者用于释放当前IP，后者用于重新获取IP。

### 3.ARP命令

  ARP是TCP/IP协议族中的一个重要协议，用于确定对应IP地址的网卡物理地址。
**参数：**
  （1）arp –a：查看缓存中的所有项目。
  （2）arp -a IP：如果有多个网卡，那么使用arp -a加上接口的IP地址，就可以只显示与该接口相关的ARP缓存项目。
  （3）arp -s IP 物理地址：向ARP高速缓存中人工输入一个静态项目。该项目在计算机引导过程中将保持有效状态，或者在出现错误时，人工配置的物理地址将自动更新该项目。
  （4）arp -d IP：使用本命令能够人工删除一个静态项目。

### 4.tracert命令

  tracert命令俗称追踪路由，是用来测试路由情况，即显示主机所经过的路径。
输出共有5列：
  第一列：显示第几条的数值。
  第二列：第一次往返的时间。
  第三列：第二次往返的时间。
  第四列：第三次往返的时间。
  第五列：显示名称及输入端口的IP地址。
  如果源在任何时接受到的报文少于3条，或在传输中丢失，则会使用一个星号。
**参数：**
  （1）tracert ip：基本追踪路由命令，可判断路由所经过的每一跳，是否存在中断。
  （2）tracert -d ip：不将IP地址解析成主机名，因此路由追踪速度快很多。
  （3）tracert -h/-w ip：-h是设定最大的跳数，默认30跳。-w是设定响应时间，默认是4s，若超时则显示星号。

### 5.route命令

  route命令就是用来显示、人工添加和修改路由表项目的。
**参数：**
  （1）route print：本命令用于显示路由表中的当前项目，在单个路由器网段上的输出结果如图所示。
  （2）route add：使用本命令，可以将路由项目添加给路由表。
  例如，如果要设定一个到目的网络192.168.1.1的路由，其间要经过5个路由器网段，首先要经过本地网络上的一个路由器IP为192.168.3.1，子网掩码为255.255.255.0，那么用户应该输入以下命令：　
  route add 192.168.1.1 mask 255.255.255.0 192.168.3.1 metric 5
  （3）route change：可以使用本命令来修改数据的传输路由，不过，用户不能使用本命令来改变数据的目的地。下面这个例子将上例路由改变采用一条包含3个网段的路径：
  route add 192.168.1.1 mask 255.255.255.0 192.168.6.1 metric 3
  （4）route delete：使用本命令可以从路由表中删除路由。例如：route delete 192.168.1.1

### 6.nslookup命令

  该命令是用于查询主机的ip地址和对应的域名。
**参数：**
  （1）nslookup：直接输入命令，将返回本机的域名及IP地址，并且会进入“>”为提示符的操作界面，输入“？”可查询相关的命令，若不想继续使用“ctrl+c”退出。
  （2）nslookup ip/域名：输入后，可查看该ip对应的域名，同理可以查看域名对应的ip。

### 7.nbtstat命令

  用于查看计算机上的网络的配置信息，同时使用该命令还可以查找别人计算机上的一些信息。
**参数：**
  （1）nbtstat -n：可以看到自己主机所在的工作组、网卡以及计算机名。
  （2）nbtstat -a ip：可以查看其它主机的MAC地址等，注意需要能够互通。

### 8.netstat命令

  netstat命令能够显示活动的TCP连接、计算机侦听的端口、以太网统计信息、IP路由表、IPv4统计信息（对于IP、ICMP、TCP和UDP协议）以及IPv6统计信息（对于IPv6、ICMPv6、通过IPv6的TCP以及UDP协议）。
**参数：**
  （1）netstat：显示当前活动的TCP连接。
  （2）netstat -a：显示所有的有效连接信息列表，包括已建立的连接（ESTABLISHED），也包括监听连接请求（LISTENING）的那些连接。
  （3）netstat -n：以点分十进制的形式列出IP地址，而不是象征性的主机名和网络名。
  （4）netstat -e：用于显示关于以太网的统计数据。它列出的项目包括传送的数据包的总字节数、错误数、删除数、数据包的数量和广播的数量。这些统计数据既有发送的数据包数量，也有接收的数据包数量。使用这个选项可以统计一些基本的网络流量。
  （5）netstat -r：显示关于路由表的信息，类似于route print命令时看到的信息。除了显示有效路由外，还显示当前有效的连接。
  其中：Network Destination表示目的网络，0.0.0.0表示不明网络，这是设置默认网关后系统自动产生的；127.0.0.0表示本机网络地址，用于测试；224.0.0.0表示组播地址；255.255.255.255表示限制广播地址；Netmask表示网络掩码，Gateway表示网关，Interface表示接口地址，Metric表示路由跳数。

### 9.telnet命令

  telnet是远程登录服务协议,可用来进行远程登录或测试端口通信。
**参数：**
  （1）telnet ip 端口号：可以用于远程登录或测试端口的连通性。
  （2）telnet 域名 端口号：可以用于测试域名的连通性。
**常见端口：**
  21 ftp端口、23 telnet端口、22 ssh端口、80 http端口、443 https端口、3389 远程桌面端口。

### 10.systeminfo命令

  systeminfo命令可以查看到主机开机运行时间、系统版本、系统安装时间、系统型号、补丁程序等等。
**参数：**
  (1)systeminfo:显示基本的信息参数等…

### 11.msinfo32命令

  可以更详细的查看到电脑上的一些硬件配置信息等。
**参数：**
  （1）msinfo32：窗口化显示主机的硬件

### 12.ssh命令

ssh root@192.168.0.10


# 故障排查

### 反馈一：ping 127.0.0.1不通。

**解决办法：**
  如不通请查看主机网卡及驱动是否安装正常，通常是由于驱动问题造成。（注：一般情况下新主机或者重装系统后出现的较多）

### 反馈二：ping 本机IP地址不通。

**解决办法：**
  如不通请查看主机网卡IP配置是否正确。若配置正确还是不通，请禁用网卡再重新启用，若还是不行请重启，若还是存在问题，请使用反馈一来测试驱动问题。

### 反馈三：ping 局域网内其它主机不通。

**解决办法：**
  若是请求超时，请查看其它主机的防火墙是否关闭或主机是否开机，若是无法访问目标主机，请查查看该IP是否有主机存在。
  （注：请求超时是对方主机在TCP/IP三次握手中未返回信息也就是为返回ACK值，或反应时间超过4s，再或者被防火墙拦截。无法访问目标主机是自身主机无到达对方的路由，导致SYN值一直在本地打转）

### 反馈四：ping非局域网内的主机不通。

**解决办法：**
  这种不通就需要判断除了反馈三中涉及到的原因还需要考虑，两个不同的网段是否能够通信，并且需要注意在局域网内网卡不配置也是可以ping通的，但是不同网段是一定需要配置网关的。
  （注：不同网段互ping，通常反馈应该是无法访问目标主机，由于找不到路由所以SYN值一直在本地打转）

### 反馈五：能上网不能登录QQ、微信等…

**解决办法：**
  该问题是由于DNS地址问题，如果是手动配置IP地址的，只需要修改DNS即可，可配置为：8.8.8.8或114.114.114.114。
  不过手动配置IP地址的场景多数在公司、企业等，所以需要联系相关管理员，家庭中多数是自动获取的，只需要把DNS改成手动的并且设置上述的地址，多数即可解决。

### 反馈六：电脑无法上网。

**解决办法：**
  通过判断右下角图标进行判断问题所在，正常上网是WIFI/小电脑图标，无法上网是黄色感叹号或红色叉号。
  （注：黄色感叹号需要查IP配置/网卡驱动是否正常，红色叉号需要查网线是否损坏或网线是否未插，可能自己电脑上网线插了，并且连接到墙上网卡了，那就需要排查墙内的网线是否连接上相关设备）

### 反馈七：自动获取后无法上网。

**解决办法：**
  这个其实和反馈六有一些相似的地方，但是主要涉及自动获取后，能够自动获取了，网线多数不会出现问题，这会存在一个获取到169.X.X.X的地址问题。
  该ip地址是由于无法正确获取到DHCP服务器发来的IP地址所导致的，这个可以禁用再重启一下网卡多数能够解决。
  若还是无法**，需要排查DHCP服务器或路由等其它问题。（注：ipconfig/release和ipconfig/renew，前者释放当前IP后者重新**IP）
